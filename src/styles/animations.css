/* Estilos para melhorar a fluidez das animações */

/* Otimizações de performance para animações */
.typing-effect {
  /* Força aceleração de hardware para melhor performance */
  transform: translateZ(0);
  will-change: contents;
  
  /* Suaviza transições de texto */
  transition: opacity 0.3s ease-in-out;
}

/* Estados da animação de digitação */
.typing-effect[data-background-ready="false"] {
  /* Enquanto background não está pronto, mantém opacidade reduzida */
  opacity: 0.7;
}

.typing-effect[data-background-ready="true"] {
  /* Background pronto, opacidade total */
  opacity: 1;
}

.typing-effect[data-can-start-typing="true"] {
  /* Adiciona um sutil efeito de "ready" quando pode iniciar */
  animation: typing-ready-pulse 0.5s ease-in-out;
}

/* Animação sutil para indicar que está pronto para digitar */
@keyframes typing-ready-pulse {
  0% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  50% {
    opacity: 1;
    transform: scale(1.01);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Cursor com animação mais suave */
.typing-cursor {
  animation: cursor-blink 1.2s infinite;
  display: inline-block;
  font-weight: 100;
}

@keyframes cursor-blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

/* Otimizações para animações de background */
.ascii-animation,
.matrix-animation {
  /* Força layer de composição separada */
  transform: translateZ(0);
  will-change: transform, opacity;
  
  /* Otimiza rendering de texto */
  text-rendering: optimizeSpeed;
  font-smooth: never;
  -webkit-font-smoothing: none;
}

/* Preload state para elementos de background */
.background-preloading {
  animation: background-fade-in 1.5s ease-out forwards;
}

@keyframes background-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  70% {
    opacity: 0.8;
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Transições suaves entre estados */
.animation-sequence-stage {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Estados específicos para diferentes estágios */
.stage-background-preload {
  filter: blur(0.5px);
  opacity: 0.8;
}

.stage-typing-ready {
  filter: blur(0);
  opacity: 1;
}

/* Reduz motion para usuários que preferem */
@media (prefers-reduced-motion: reduce) {
  .typing-effect,
  .typing-cursor,
  .ascii-animation,
  .matrix-animation {
    animation: none !important;
    transition: none !important;
  }
  
  .typing-effect[data-background-ready="false"] {
    opacity: 1;
  }
}

/* Otimizações para dispositivos móveis */
@media (max-width: 768px) {
  .ascii-animation,
  .matrix-animation {
    /* Reduz densidade em mobile para melhor performance */
    opacity: 0.6;
  }
  
  .typing-effect {
    /* Simplifica animações em mobile */
    will-change: auto;
  }
}